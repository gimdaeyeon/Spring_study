# 공통 프로세스 처리

## 공통 프로세스란?
웹 개발을 할 때 공통적으로 처리해야 하는 일들을 의미한다.   
예를 들어 로그인 세션 처리, 인코딩 변환, 예외 처리, 로깅, 보안, 트랜잭션 처리 등이 있다.   
이렇게 반복적으로 처리해야하는 일들을 매번 요청마다, 서비스마다 처리하게되면 중복되는 코드가 많아지고 서버에 부하를 줄 수 있다. 그러므로 공통 부분은 분리하여 따로 처리하고 관리하느 것이 효율적이다.

---
## 공통프로세스를 처리하는 방법
### 스프링에서 사용가능한 처리 방법에는 3가지가 존재한다.
![Filter, Interceptor, aop](../resource/Filter,%20Interceptor,%20aop.png)

1. Filter   
  요청이 Dispatcher Servlet에 도달하기 전에 우선 처리한다.    
  가장 먼저 실행되기 때문에 이름에 맞게 요청과 응답을 걸러주는 필터 역할을 한다.   
  스프링 컨테이너 외부에 존재하므로 빈객체에 접근이 불가능하다.
  - init() : 필터 인스턴스 초기화 시점에 실행
  - doFilter() : 전, 후 처리
  - destroy() : 필터 인스턴스 종료 시점에 실행

2. Interceptor   
   컨트롤러의 핸들러가 실행되기 전, 후로 요청과 응답을 가로채서 처리한다.   
   스프링 컨테이너 내부에 존재하기 때문에 모든 빈 객체에 접근 가능하다.   
   - preHandler() : 컨트롤러의 핸들러가 실행되기 전에 처리   
   - postHandler(): 컨트롤러의 핸들러 실행직 후, view페이지를 만들기 전에 처리
   - afterCompletion() : view페이지를 만들고 난후 처리
















